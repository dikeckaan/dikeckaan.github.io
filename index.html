<!DOCTYPE html>
<html lang="en">
<head>
    <title>Abdurrahman Kaan Dikeç - Developer, Engineer, Innovator</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Official website of Abdurrahman Kaan Dikeç. Explore projects, achievements, and contact details.">
    <meta name="keywords" content="Abdurrahman Kaan Dikeç, Developer, Engineer, Innovator, Technology, Projects">
    <meta name="author" content="Abdurrahman Kaan Dikeç">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://yourwebsite.com/">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Abdurrahman Kaan Dikeç - Developer, Engineer, Innovator">
    <meta property="og:description" content="Explore the official website of Abdurrahman Kaan Dikeç, including projects and contact details.">
    <meta property="og:url" content="https://yourwebsite.com/">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://yourwebsite.com/assets/images/profile.jpg">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Abdurrahman Kaan Dikeç - Developer, Engineer, Innovator">
    <meta name="twitter:description" content="Explore the official website of Abdurrahman Kaan Dikeç, including projects and contact details.">
    <meta name="twitter:image" content="https://yourwebsite.com/assets/images/profile.jpg">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="assets/css/main.css">

    <!-- Cloudflare Turnstile Script -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>

    <style>
        .center {
            text-align: center;
        }

        /* Form Container Styling */
        #contact-form {
            max-width: 500px;
            margin: 0 auto;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Input Styling */
        #contact-form input[type="email"],
        #contact-form input[type="text"]:not(.honeypot),
        #contact-form textarea {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        #contact-form input::placeholder,
        #contact-form textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        #contact-form input:focus,
        #contact-form textarea:focus {
            outline: none;
            border-color: #4CAF50;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
        }

        /* Textarea Styling */
        #contact-form textarea {
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }

        /* Button Styling */
        #contact-form button[type="submit"] {
            width: 100%;
            padding: 15px;
            margin-top: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 8px;
            color: #fff;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 50px;
        }

        #contact-form button[type="submit"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        #contact-form button[type="submit"]:active {
            transform: translateY(0);
        }

        #contact-form button[type="submit"]:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Loading Spinner */
        .spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: #fff;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Message Styling */
        .form-message {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            display: none;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-message.success {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4CAF50;
            color: #4CAF50;
        }

        .form-message.error {
            background: rgba(244, 67, 54, 0.2);
            border: 2px solid #f44336;
            color: #f44336;
        }

        /* Honeypot - Completely Hidden */
        .honeypot {
            position: absolute !important;
            left: -9999px !important;
            width: 1px !important;
            height: 1px !important;
            opacity: 0 !important;
            pointer-events: none !important;
            tabindex: -1;
        }

        /* Character Counter */
        .char-counter {
            text-align: right;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            margin-top: -5px;
            margin-bottom: 10px;
        }

        /* Cloudflare Turnstile Styling */
        .cf-turnstile {
            margin: 20px auto;
            display: flex;
            justify-content: center;
        }
    </style>
</head>
<body class="is-preload">
    <div class="center">
        <!-- Header -->
        <header id="header">
            <h1>Abdurrahman Kaan Dikeç</h1>
            <h2>Developer | Engineer | Innovator | Musician</h2>
            <p>Welcome to my personal website. Explore my projects, skills, and achievements.<br>
            Check my work on <a href="https://github.com/dikeckaan" target="_blank">GitHub</a>.</p>
        </header>

        <!-- Contact Form -->
        <form id="contact-form">
            <input type="email" name="email" id="email" placeholder="your@email.com" required autocomplete="email">

            <input type="text" name="subject" id="subject" placeholder="Subject" required maxlength="200">
            <div class="char-counter"><span id="subject-counter">0</span>/200</div>

            <textarea name="message" id="message" placeholder="Your message..." required maxlength="1000"></textarea>
            <div class="char-counter"><span id="message-counter">0</span>/1000</div>

            <!-- Cloudflare Turnstile CAPTCHA -->
            <div class="cf-turnstile" data-sitekey="0x4AAAAAACFNCn4BiPfTgn1N" data-callback="onTurnstileSuccess" data-theme="dark"></div>

            <!-- Security Fields -->
            <input type="hidden" name="formStartTime" id="formStartTime" value="">
            <input type="hidden" name="formToken" id="formToken" value="">
            <input type="hidden" name="mouseMovements" id="mouseMovements" value="0">
            <input type="hidden" name="cf-turnstile-response" id="cf-turnstile-response" value="">
            <input type="text" name="honeypot" class="honeypot" value="" tabindex="-1" autocomplete="off">
            <input type="text" name="website" class="honeypot" value="" tabindex="-1" autocomplete="off">

            <button type="submit" id="submit-btn">
                <span id="btn-text">Send Message</span>
                <div class="spinner" id="spinner"></div>
            </button>

            <div class="form-message" id="form-message"></div>
        </form>
    </div>

    <!-- Footer -->
    <footer id="footer">
        <ul class="icons">
            <li><a href="https://twitter.com/kaandikec" target="_blank" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
            <li><a href="https://instagram.com/kaandikec" target="_blank" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
            <li><a href="https://github.com/dikeckaan" target="_blank" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
            <li><a href="mailto:site@kaandikec.org" target="_blank" class="icon fa-envelope"><span class="label">Email</span></a></li>
        </ul>
        <ul class="copyright">
            <li>&copy; <script>document.write(new Date().getFullYear());</script> Abdurrahman Kaan Dikeç. All rights reserved.</li>
            <li>Contact me via <a href="https://t.me/kaandikec" target="_blank">Telegram</a>.</li>
        </ul>
    </footer>

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Abdurrahman Kaan Dikeç",
      "jobTitle": "Developer, Engineer",
      "url": "https://yourwebsite.com/",
      "sameAs": [
        "https://twitter.com/kaandikec",
        "https://instagram.com/kaandikec",
        "https://github.com/dikeckaan"
      ]
    }
    </script>

    <!-- Scripts -->
    <script src="assets/js/main.js"></script>
    <script>
        // Form Elements
        const contactForm = document.getElementById('contact-form');
        const submitBtn = document.getElementById('submit-btn');
        const btnText = document.getElementById('btn-text');
        const spinner = document.getElementById('spinner');
        const formMessage = document.getElementById('form-message');
        const formStartTimeInput = document.getElementById('formStartTime');
        const formTokenInput = document.getElementById('formToken');
        const mouseMovementsInput = document.getElementById('mouseMovements');
        const subjectInput = document.getElementById('subject');
        const messageInput = document.getElementById('message');
        const subjectCounter = document.getElementById('subject-counter');
        const messageCounter = document.getElementById('message-counter');

        // Security Variables
        let mouseMovements = 0;
        let keyPresses = 0;
        let formInteractions = 0;
        let turnstileToken = null;

        // Cloudflare Turnstile callback
        window.onTurnstileSuccess = function(token) {
            turnstileToken = token;
            document.getElementById('cf-turnstile-response').value = token;
        };

        // Generate unique form token
        function generateToken() {
            return Array.from(crypto.getRandomValues(new Uint8Array(16)))
                .map(b => b.toString(16).padStart(2, '0')).join('');
        }

        // Initialize form security
        function initFormSecurity() {
            formStartTimeInput.value = Date.now();
            formTokenInput.value = generateToken();

            // Track mouse movements
            document.addEventListener('mousemove', () => {
                mouseMovements++;
                mouseMovementsInput.value = mouseMovements;
            });

            // Track keyboard interactions
            contactForm.addEventListener('keydown', () => {
                keyPresses++;
            });

            // Track form field interactions
            contactForm.addEventListener('focus', () => {
                formInteractions++;
            }, true);
        }

        // Character counter
        function updateCharCounter(input, counter, max) {
            const count = input.value.length;
            counter.textContent = count;
            if (count > max * 0.9) {
                counter.style.color = '#f44336';
            } else {
                counter.style.color = 'rgba(255, 255, 255, 0.5)';
            }
        }

        subjectInput.addEventListener('input', () => {
            updateCharCounter(subjectInput, subjectCounter, 200);
        });

        messageInput.addEventListener('input', () => {
            updateCharCounter(messageInput, messageCounter, 1000);
        });

        // Show message function
        function showMessage(message, type) {
            formMessage.textContent = message;
            formMessage.className = 'form-message ' + type;
            formMessage.style.display = 'block';

            setTimeout(() => {
                formMessage.style.display = 'none';
            }, 5000);
        }

        // Validate security
        function validateSecurity() {
            const honeypot = document.querySelector('input[name="honeypot"]').value;
            const website = document.querySelector('input[name="website"]').value;

            // Check Cloudflare Turnstile
            if (!turnstileToken) {
                return { valid: false, message: 'Please complete the CAPTCHA verification.' };
            }

            // Check honeypots
            if (honeypot || website) {
                return { valid: false, message: 'Security check failed.' };
            }

            // Check form fill time (minimum 5 seconds)
            const formFilledDuration = Date.now() - parseInt(formStartTimeInput.value, 10);
            if (formFilledDuration < 5000) {
                return { valid: false, message: 'Please take your time to fill the form.' };
            }

            // Check for human-like interactions
            if (mouseMovements < 10) {
                return { valid: false, message: 'Please interact with the form naturally.' };
            }

            if (keyPresses < 5) {
                return { valid: false, message: 'Please type your message.' };
            }

            if (formInteractions < 2) {
                return { valid: false, message: 'Please fill all required fields.' };
            }

            // Check token exists
            if (!formTokenInput.value || formTokenInput.value.length !== 32) {
                return { valid: false, message: 'Security token invalid.' };
            }

            return { valid: true };
        }

        // Form submission handler
        contactForm.addEventListener('submit', async function(event) {
            event.preventDefault();

            // Validate security
            const securityCheck = validateSecurity();
            if (!securityCheck.valid) {
                showMessage(securityCheck.message, 'error');
                return;
            }

            // Disable button and show spinner
            submitBtn.disabled = true;
            btnText.style.display = 'none';
            spinner.style.display = 'block';

            try {
                // Prepare form data
                const formData = new FormData(contactForm);

                // Send AJAX request
                const response = await fetch('https://siteform.dikeckaan.workers.dev/', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest',
                        'X-Form-Token': formTokenInput.value
                    }
                });

                if (response.ok) {
                    showMessage('Message sent successfully!', 'success');
                    contactForm.reset();
                    subjectCounter.textContent = '0';
                    messageCounter.textContent = '0';

                    // Reset security measures
                    mouseMovements = 0;
                    keyPresses = 0;
                    formInteractions = 0;
                    turnstileToken = null;
                    initFormSecurity();

                    // Reset Turnstile
                    if (typeof turnstile !== 'undefined') {
                        turnstile.reset();
                    }
                } else {
                    const errorText = await response.text();
                    if (response.status === 429) {
                        showMessage('Please wait before sending another message.', 'error');
                    } else if (response.status === 403) {
                        showMessage('Security validation failed.', 'error');
                    } else {
                        showMessage('Failed to send message. Please try again.', 'error');
                    }
                }
            } catch (error) {
                console.error('Form submission error:', error);
                showMessage('Network error. Please check your connection.', 'error');
            } finally {
                // Re-enable button and hide spinner
                submitBtn.disabled = false;
                btnText.style.display = 'inline';
                spinner.style.display = 'none';
            }
        });

        // Initialize on page load
        initFormSecurity();
    </script>
</body>
</html>
